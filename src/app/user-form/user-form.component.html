<div class="container col-md-6 offset-mid-3">
    <h3 class="text-center">{{isUpdateMode ? 'Modifier' : 'Ajouter'}} un utilisateur</h3>
    <form (ngSubmit)="onSubmit()" #userForm="ngForm">
      <div class="form-group mb-3">
        <label for="nom">Nom</label>
        <input
          type="text"
          class="form-control"
          id="nom"
          [(ngModel)]="user!.nom"
          name="nom"
          required
          #nom="ngModel"
        />
        <div class="alert alert-danger" *ngIf="nom.invalid && (nom.dirty || nom.touched)">
          Le nom est requis
        </div>
      </div>
  
      <div class="form-group mb-3">
        <label for="email">Email</label>
        <input
          type="email"
          class="form-control"
          id="email"
          [(ngModel)]="user.email"
          name="email"
          required
          email
          #email="ngModel"
        />
        <div class="alert alert-danger" *ngIf="email.invalid && (email.dirty || email.touched)">
          Un email valide est requis
        </div>
      </div>
  
      <div class="form-group mb-3">
        <label for="password">Mot de passe</label>
        <input
          type="password"
          class="form-control"
          id="password"
          [(ngModel)]="user.password"
          name="password"
          [required]="!isUpdateMode"
          #password="ngModel"
        />
        <div class="alert alert-danger" *ngIf="password.invalid && (password.dirty || password.touched)">
          Le mot de passe est requis
        </div>
      </div>
  
      <div class="form-group mb-3">
        <label for="roles">RÃ´les</label>
        <select
          multiple
          class="form-control"
          id="roles"
          [(ngModel)]="user.roles"
          name="roles"
          required
        >
          <option value="ADMIN">Administrateur</option>
          <option value="USER">Utilisateur</option>
        </select>
      </div>
  
      <div class="mt-3">
        <button class="btn btn-success" type="submit" [disabled]="!userForm.form.valid">
          {{isUpdateMode ? 'Enregistrer' : 'Ajouter'}}
        </button>
        <button type="button" class="btn btn-secondary ms-2" (click)="onCancel()">
          Annuler
        </button>
      </div>
    </form>
  </div>